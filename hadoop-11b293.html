<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤠&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Hadoop源码编译阅读&nbsp;|&nbsp;DragonChuBlog</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Hadoop源码编译阅读">
  
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤠&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤠&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="todo.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📌&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>TODO</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="archive.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📓&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Archive</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="-c97f76.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📖&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>文章</span>
        </div>
      </a>
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="-f4018e.html">
        <div class="Navbar__Btn">
          
          <span>我的诗与短句</span>
        </div>
      </a>
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
    <h1 class="Header__Title">Hadoop源码编译阅读</h1>
    
  </header>
  <article id="https://www.notion.so/11b293b017f446a38fb96ab426acdebe" class="PageRoot"><div id="https://www.notion.so/87e6105b90b14b91bbe5ee4a2586305d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">mvn test -Dtest=TestLongLong</span></span></p></div><div id="https://www.notion.so/a53847d93b1e4df2ace49600fdaa1ad0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/f81186eb44ef488e8e400668217115b1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">在跑测试的时候，出现了如下问题</span></span></p></div><div id="https://www.notion.so/786ce3f342d7482ab054db465bc6a592" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">[</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ERROR</strong></span><span class="SemanticString">] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">(common-test-bats-driver)</strong></span><span class="SemanticString"> on project hadoop-common: </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">An Ant BuildException has occured: exec returned: 1</strong></span></span></p></div><div id="https://www.notion.so/880d4bf5011d46489370b159740320bf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">[</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ERROR</strong></span><span class="SemanticString">] </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">around Ant part ...&lt;exec failonerror=&quot;true&quot; dir=&quot;src/test/scripts&quot; executable=&quot;bash&quot;&gt;... @ 4:69 in /home/chuhuilong/hadoop/hadoop-common-project/hadoop-common/target/antrun/build-main.xml</strong></span></span></p></div><div id="https://www.notion.so/a2a2750cc09847fab2b1a19c2b52e1b3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">根据错误提示，是hadoop-common这个模块中的antrun插件有问题，去该模块的pom中查看，</span></span></p></div><div id="https://www.notion.so/89699003400440e2ad64e1a0d135e176" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2db2ebac-e7db-45d3-b543-eb5dfa8ee3bd%2FUntitled.png?width=1070&amp;table=block&amp;id=89699003-4004-40e2-ad64-e1a0d135e176"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2db2ebac-e7db-45d3-b543-eb5dfa8ee3bd%2FUntitled.png?width=1070&amp;table=block&amp;id=89699003-4004-40e2-ad64-e1a0d135e176" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/c8e2e3fd1d1647958d566eae37fee6a8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">是执行这个execution的时候出错了。</span></span></p></div><div id="https://www.notion.so/f8fc110cfd54493cb448baf6be6887e0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">拿着common test bats driver关键词去hadoop官方的社区里搜索</span></span></p></div><div id="https://www.notion.so/33469a1787a34a2eab225e1a60a195fc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://issues.apache.org/jira/browse/HADOOP-14618">https://issues.apache.org/jira/browse/HADOOP-14618</a></span><span class="SemanticString"> 这个问题和我的出错一样，hadoop版本是3.0.0也很接近，只有一条评论说是running the build as a non-root user，以非root用户权限执行之前在网上看别人调试hadoop2.0版本的时候强调过，但是我是用的官方docker直接调试的，这些用户权限应该都是调好了的吧。并且这个issue中有执行的脚本出错的具体信息，我这边是没有的。</span></span></p></div><div id="https://www.notion.so/3f0c6a1a254f40b3883358af33da8067" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/8f986c78896144cbb20298009ef16d7a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">不过和我这个信息一样的就只有这个issue了，那我看看我执行mvn命令的用户权限是什么</span></span></p></div><div id="https://www.notion.so/3e2fb956144644e4a669a5559f369728" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">还是没看出什么</span></span></p></div><div id="https://www.notion.so/3255a049dd204164900e9f0c1cdc5acc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ede219d6921347f5bb0701f0b8153288" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">再沉思分析一下，这个插件是在做脚本执行的测试，说明是有脚本执行失败了，那我找出来是哪个脚本之心失败了应该就可以进一步分析</span></span></p></div><div id="https://www.notion.so/5dd67b6a94de4209939b89a4bc0f046e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/38fbb31e4c1247838ddd845b91937b7d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">看到插件里面，是执行了src/test/scripts下的run-bats.sh</span></span></p></div><div id="https://www.notion.so/dd8be4198b9b4b7491510a3f8d6838cb" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6c9e9898-bf7e-44f5-b410-98c0e3d2cfe2%2FUntitled.png?width=1080&amp;table=block&amp;id=dd8be419-8b9b-4b74-9151-0a3f8d6838cb"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F6c9e9898-bf7e-44f5-b410-98c0e3d2cfe2%2FUntitled.png?width=1080&amp;table=block&amp;id=dd8be419-8b9b-4b74-9151-0a3f8d6838cb" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/bb9e0365e5cc4a858e5b978de119193a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可以看到这个脚本就是把scripts下的脚本都跑一遍</span></span></p></div><div id="https://www.notion.so/12b495844b4043d28cfd51c2c5902bcd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">再看看我的日志，说明这个脚本跑起来了了，有脚本没跑起来，那就按照顺序看看是到哪个没跑起来</span></span></p></div><div id="https://www.notion.so/b53bcc5845d9424394b86ba1a69d9125" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fab3e66b4-5692-4e15-868e-2f3b72a3d90a%2FUntitled.png?width=2160&amp;table=block&amp;id=b53bcc58-45d9-4243-94b8-6ba1a69d9125"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fab3e66b4-5692-4e15-868e-2f3b72a3d90a%2FUntitled.png?width=2160&amp;table=block&amp;id=b53bcc58-45d9-4243-94b8-6ba1a69d9125" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/bfa0cf5f38af47679b8042ca0a53d1c8" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">官方issue里是hadoop_mkdir.bats这个脚本没跑通，我这里这个脚本跑通了</span></span></p></div><div id="https://www.notion.so/5925b125ebf1486584cd4ecc7aac4166" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我最后一个start-build-env.bats的脚本已经执行了也没报错，为什么还是没通过呢？</span></span></p></div><div id="https://www.notion.so/44a1ef65c9744d949f12641f20abd7a9" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd7144c4c-1e7b-4116-a990-736fab5d79ae%2FUntitled.png?width=1866&amp;table=block&amp;id=44a1ef65-c974-4d94-9f12-641f20abd7a9"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd7144c4c-1e7b-4116-a990-736fab5d79ae%2FUntitled.png?width=1866&amp;table=block&amp;id=44a1ef65-c974-4d94-9f12-641f20abd7a9" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/a8ec9c7aad0b46da80fdeed85575894d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/be3358b6dc2244de8bad72330dc2099f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">是不是全部跑完然后中间有不ok的就算报错，于是我回头再看了一遍日志</span></span></p></div><div id="https://www.notion.so/f48e0904076046cbb32316489a3b1e01" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">原来hadoop_java_setup.bats这个脚本中有not ok的</span></span></p></div><div id="https://www.notion.so/3053cfb39ad4451181c185c065cdb083" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F5f3108fb-50f4-4c16-b35f-c6c29ea85fe2%2FUntitled.png?width=1412&amp;table=block&amp;id=3053cfb3-9ad4-4511-81c1-85c065cdb083"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F5f3108fb-50f4-4c16-b35f-c6c29ea85fe2%2FUntitled.png?width=1412&amp;table=block&amp;id=3053cfb3-9ad4-4511-81c1-85c065cdb083" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/177cd303a27e4dd69dd9c1b5f16cc0bb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">看看这个脚本</span></span></p></div><div id="https://www.notion.so/2c3816e3da97410287c535b048137c2c" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4b421a41-a8c4-41de-9ea9-dd103875ea78%2FUntitled.png?width=483&amp;table=block&amp;id=2c3816e3-da97-4102-87c5-35b048137c2c"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4b421a41-a8c4-41de-9ea9-dd103875ea78%2FUntitled.png?width=483&amp;table=block&amp;id=2c3816e3-da97-4102-87c5-35b048137c2c" style="width:483px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/6c4ab6e7411b4378bf1a7072075a302d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">原来这个脚本里有四个测试，这时我也才搞懂日志中1..4是代表测试的数目</span></span></p></div><div id="https://www.notion.so/a439aaadee9348a48f297568f63e71e0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">第三个测试出了问题</span></span></p></div><div id="https://www.notion.so/06605ea387184e59a6a536639e64b98a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这一下问题更精确了，带着hadoop_java_setup这个关键字再去hadoop社区看一下</span></span></p></div><div id="https://www.notion.so/4022ae3efc2548ed814f85ad13476fbb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">但是这个关键字太宽泛了，一大堆有关的问题</span></span></p></div><div id="https://www.notion.so/65c6fce67659497f9781675b4dd91587" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/e5e17c6c204a45afb9c656f8c3f42570" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这个测试猜测是要没有执行权限的时候不执行，但是不知道为什么这里的chmod a-x好像没有起作用，我把-eq 1 改成-eq 0，也就是和第四个对比测试一样就能暂时通过了，不过这应该是个问题。</span></span></p></div><div id="https://www.notion.so/3831345af3bd4ba4b1a71a06a0ca2966" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/4c8a4dbe970e4137b84bafbe376b37ca" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">想要执行单元测试</span></span></p></div><div id="https://www.notion.so/3a5a329f0449416b87053f9f4263e475" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ffdfdab3af094229ad3cdb084cbdb7bd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">遇到了这个问题</span></span></p></div><div id="https://www.notion.so/0769aa2666784a5e8144c9e0adc98373" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Unable to load Atom &#x27;execute_script&#x27; from file &#x27;:/ghostdriver/./third_party/webdriver-atoms/execute_script.js&#x27;</strong></span></span></p></div><div id="https://www.notion.so/26e3b1261ffd499a8a3f771c8f0f234a" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">看样子是浏览器的问题，官方的docker应该只是用来编译的最小依赖</span></span></p></div><div id="https://www.notion.so/bd188eb5bf304d8bab37a74d695e170c" class="Bookmark"><a href="http://about.uuspider.com/2017/12/17/selenium.html"><h5 class="Bookmark__Title">Selenium</h5><p class="Bookmark__Desc">参考： Selenium tutorial, Selenium basic selenium本来是用来做网站测试的，但逐渐成为一个强大的爬虫工具，主要用于抓取使用了Ajax和动态HTML技术的网页内容。 针对不同的浏览器，还需要下载对应的插件，如 Chrome v59，需要下载 chromedriver v2.32到/usr/bin 目录中。 也可以使用PhantomJS(不显示界面的浏览器)： 安装完成后在/usr/bin/phantomjs 中添加以下代码： 特别提示：如果在调试中发现如下的异常信息，就表明你下载的PhantomJS很可能是不完整的(源里的phantomjs文件有问题)。 这种情况下，建议去官网下载编译好的二进制文件，复制到/usr/bin 中，替换同名文件即可。 [TOP] 如在淘宝上搜索&quot;全球通史&quot;： [TOP] 上面的例子用到了 find_element_by_id ，selenium还提供了很多类似的选择器： 将 element换成 elements 就可以一次提取具有同样特征的多个元素，返回的是一个python列表。 [TOP] 指定被拖动的元素和目标元素后，可以使用 ActionChains 类来实现拖动，如 [TOP] 上面的例子已经用到了表单的填充 清除表单中的文本 实际上 send_keys 还可以模拟按键，如 对于下拉选项，可以使用 WebDriver中的 Select 方法 [TOP] 获取弹窗对象。 [TOP] 将焦点切换到 name为 child 的frame上。 [TOP] 很多网页用Ajax异步加载数据，比如当页面被打开几秒钟以后，会被替换为Ajax生成的内容，采用传统的爬虫只能获取Ajax加载之前的页面。 如果知道异步加载的延时，可以采用显示等待的方式抓取Ajax生成的内容，如： 很多时候异步加载的时间是不确定的，因此这种方法有时候会出错。更加有效的方法是通过检查页面中的某个元素是否存在，以此判断是否可以开始采集数据，这种方法就是selenium的隐式等待(implicit wait)。 触发隐式等待条件( expected_conditions)有很多，如弹出一个提示框，一个元素被选中，页面标题改变，某些文字显示在页面上，一个元素在DOM中变为可见或不可见等等。 下面的代码用 id是 loadedButton 的按钮检查页面是否加载完成： By用以指定 expected_conditions 所在的元素，称为定位器，定位器与选择器是不一样的，定位器可以用于创建选择器，如 selenium内置的隐式等待的期望条件有 [TOP] 请求网页时发送cookie信息，可用于身份验证，实现免登录访问： [TOP]</p><p class="Bookmark__Link">http://about.uuspider.com/2017/12/17/selenium.html</p></a></div><div id="https://www.notion.so/195fb8524c3444299548107916255110" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">装了个selenium，并没有用</span></span></p></div><div id="https://www.notion.so/61f9b4df5bb34d9084375c8b3e58be13" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/e59bd25f727248899d62b7f18998435e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">可能是phantomjs有问题</span></span></p></div><div id="https://www.notion.so/75a25b11dd964553b7602276e8d64f21" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">看一下版本</span></span></p></div><div id="https://www.notion.so/66fe176adab4447e8666e405c873f8af" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">phantomjs is already the newest version (2.1.1+dfsg-2ubuntu1).</span></span></p></div><div id="https://www.notion.so/a1f3a5274a254f0c8172235bf9d7eef1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/8c18f81d1c0845fb8141c81edb6cfed9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">我的usr/bin目录下有phantomjs这个二进制文件，可能是版本不对？</span></span></p></div><div id="https://www.notion.so/2a99ff06ce77428fa7d1f464e6b62971" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/4efb35bc8c23430c9c5a2474b7dd0c75" class="Bookmark"><a href="https://stackoverflow.com/questions/36770303/unable-to-load-atom-find-element"><h5 class="Bookmark__Title">Unable to load Atom &#x27;&#x27;find_element&quot;</h5><p class="Bookmark__Desc">Thanks for contributing an answer to Stack Overflow! Please be sure to answer the question. Provide details and share your research! Asking for help, clarification, or responding to other answers. Making statements based on opinion; back them up with references or personal experience. To learn more, see our tips on writing great answers.</p><p class="Bookmark__Link">https://stackoverflow.com/questions/36770303/unable-to-load-atom-find-element</p></a></div><div id="https://www.notion.so/442443d921ad4d55a7b4422f2a3703bd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">根据这个问题，用apt下载的phantomjs好像有问题，需要手动下载</span></span></p></div><div id="https://www.notion.so/ded78d4ac67c462884b98de4cc83e866" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">curl -L -s -S </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2">https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2</a></span><span class="SemanticString"> -o phantomjs-2.1.1-linux-x86_64.tar.bz2</span></span></p></div><div id="https://www.notion.so/ae51a5e4ac4d4897b5516359595e0220" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">tar -xf phantomjs-2.1.1-linux-x86_64.tar.bz2</span></span></p></div><div id="https://www.notion.so/0b0103003f864ba0a4160ed0e77daeb5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">sudo cp phantomjs-2.1.1-linux-x86_64/bin/phantomjs /usr/bin/</span></span></p></div><div id="https://www.notion.so/a43103d199c2446994257e8109765118" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/77deb8b79cb2407fa3e267a3fb3b5e75" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/2fac45229f6e4568b3abbc3426cd8140" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">The jasmine-maven-plugin encountered an exception:</strong></span></span></p></div><div id="https://www.notion.so/639926e89f5449c3abe717f4c7eacff3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">[</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ERROR</strong></span><span class="SemanticString">] </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">org.openqa.selenium.remote.UnreachableBrowserException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</strong></span></span></p></div><div id="https://www.notion.so/4836a3c2af9d4cf9aab68d1628e1ed43" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/64c2c0778ba442eba7e048ebdbd35191" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">这个错误应该就是网络问题</span></span></p></div><div id="https://www.notion.so/426fc92a56c2409f98b2509246401612" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Caused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.</strong></span></span></p></div><div id="https://www.notion.so/f9de844baee346d7a772c9b18cf2f618" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/b4db1617d6084fa2a418806cb822e996" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">不过好在是容器，销毁了重新创建一个就好了</span></span></p></div><div id="https://www.notion.so/8d65025e028d4066ade06c755e4ba178" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/c2d36031d4c64e2d9aae8d4f1d31266b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">现在了解了，selenium是做浏览器测试的工具，也就是hadoop用这个工具来测试它的yarnUI界面，</span></span></p></div><div id="https://www.notion.so/e8f9b03aeffd4c5db790ff10f46724a7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/0705dd19592d4c3a86b17bb042ac130c" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7554615c-1c70-456e-b7a7-aad52249fdc8%2FUntitled.png?width=2880&amp;table=block&amp;id=0705dd19-592d-4c3a-86b1-7bb042ac130c"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F7554615c-1c70-456e-b7a7-aad52249fdc8%2FUntitled.png?width=2880&amp;table=block&amp;id=0705dd19-592d-4c3a-86b1-7bb042ac130c" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/555fcb519d1b45608f175e4eacf27631" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">仔细看看错误日志，有很多有趣的信息，一个是报错，还有就是生成了log文件</span></span></p></div><div id="https://www.notion.so/c621e70e26f146e39f1f6e9726048fae" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">看这个样子和我之前猜测的网络问题应该无关，应该就是启动问题</span></span></p></div><div id="https://www.notion.so/c5443411763941b6905d61a1d3c93b3c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/7058d776b4514335a7f9bcc0cf51661b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Feb 13, 2023 1:54:43 PM org.openqa.selenium.phantomjs.PhantomJSDriverService &lt;init&gt;
INFO: environment: {}
qemu-x86_64: Could not open &#x27;/lib64/ld-linux-x86-64.so.2&#x27;: No such file or directory
Feb 13, 2023 1:55:03 PM org.openqa.selenium.os.UnixProcess checkForError
SEVERE: org.apache.commons.exec.ExecuteException: Process exited with an error: 255 (Exit value: 255)</span></span></p></div><div id="https://www.notion.so/4e06a2705eea45c8aaaf6093c24bc07d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/c71c6c74f074435ea705fc69ca8fa065" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">那去搜搜这个问题</span></span></p></div><div id="https://www.notion.so/198c844e0a274e348f74eb0f20165a50" class="Bookmark"><a href="https://stackoverflow.com/questions/71040681/qemu-x86-64-could-not-open-lib64-ld-linux-x86-64-so-2-no-such-file-or-direc"><h5 class="Bookmark__Title">qemu-x86_64: Could not open &#x27;/lib64/ld-linux-x86-64.so.2&#x27;: No such file or directory</h5><p class="Bookmark__Desc">I have a Rancher Deskop(dockerd) on M1 MacOS and when I am trying to build below dockerfile I am getting an error such as below. Here is the command how I am trying to build the image docker build ...</p><p class="Bookmark__Link">https://stackoverflow.com/questions/71040681/qemu-x86-64-could-not-open-lib64-ld-linux-x86-64-so-2-no-such-file-or-direc</p></a></div><div id="https://www.notion.so/6aed578e9a974af69b3dfaa4f5af8bb4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">根据这个问题开来，这好像是mac m1芯片的问题</span></span></p></div><div id="https://www.notion.so/6a4e4c0129e54369bf8d156a69e121d3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <script src="https://utteranc.es/client.js"
        repo="Dragonchu/Dragonchu.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>
  <footer class="Footer">
  <div>&copy; DragonChuBlog 2022</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>
