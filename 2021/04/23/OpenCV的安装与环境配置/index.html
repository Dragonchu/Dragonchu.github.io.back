<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>
        Dragonchu
    </title>
    
<link rel="stylesheet" href="/libs/highlight/styles/monokai-sublime.css">

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body id="bodyx">
    <div class="hd posts">
    <a href="/index.html"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <div class="post-title">
        <p>
            OpenCV的安装与环境配置
        </p>
        <hr>
    </div>
    <div class="post-content">
        <h1 id="OpenCV的安装与环境配置（window10，Visual-Studio-2019）"><a href="#OpenCV的安装与环境配置（window10，Visual-Studio-2019）" class="headerlink" title="OpenCV的安装与环境配置（window10，Visual Studio 2019）"></a>OpenCV的安装与环境配置（window10，Visual Studio 2019）</h1><p>日期：2021年04月17日</p>
<h2 id="OpenCV的安装"><a href="#OpenCV的安装" class="headerlink" title="OpenCV的安装"></a>OpenCV的安装</h2><p><strong>第一步：</strong>下载OpenCv <a target="_blank" rel="noopener" href="https://opencv.org/releases/"><strong>https://opencv.org/releases/</strong></a>，本文使用 OpenCV-4.5.0 。</p>
<p><strong>第二步：</strong>下载得到 opencv-4.5.0-vc14_vc15.exe 文件，运行该文件，选择解压到目标地址，本文解压到目录 D:\Library 。</p>
<p><strong>第三步：</strong>为了方便以及清晰，这一步添加系统环境变量 OPENCV_DIR 。方法为以管理员身份运行 cmd ，输入并运行命令<code> setx -m OPENCV_DIR D:\Library\opencv\build\x64\vc15</code>，（此处根据平台环境可能需要有所调整）。</p>
<p><strong>第四步：</strong>添加系统环境变量Path中的环境变量，添加**%OPENCV_DIR%\bin**</p>
<h2 id="Visual-Studio-2019项目的配置"><a href="#Visual-Studio-2019项目的配置" class="headerlink" title="Visual Studio 2019项目的配置"></a>Visual Studio 2019项目的配置</h2><ul>
<li>解决方案配置为 Debug ，解决方案平台为 x64 。</li>
<li>项目属性 - VC++ 目录 - 包含目录，添加 D:\Library\opencv\build\include 路径</li>
<li>项目属性 - VC++ 目录 - 库目录，添加 D:\Library\opencv\build\x64\vc15\lib 路径</li>
<li>项目属性 - 链接器 - 输入 - 附加依赖项，添加 opencv_world450d.lib ，（此处lib文件可在 D:\Library\opencv\build\x64\vc15\bin 中查看，d表示debug，解决方案与平台需要根据实际情况做调整）</li>
</ul>
<h2 id="测试程序"><a href="#测试程序" class="headerlink" title="测试程序"></a>测试程序</h2><pre><code class="c++">#include &lt;iostream&gt;
#include &lt;stdio.h&gt;
#include &quot;opencv2/highgui/highgui.hpp&quot;
#include &quot;opencv2/imgproc/imgproc.hpp&quot;
using namespace std;
using namespace cv;

int main()
&#123;
    // 设置窗口
    Mat img = Mat::zeros(Size(800, 600), CV_8UC3);

    img.setTo(255);              // 设置屏幕为白色
    Point p1(100, 100);          // 点p1
    Point p2(758, 50);           // 点p2

    // 画直线函数
    line(img, p1, p2, Scalar(0, 0, 255), 2);   // 红色
    line(img, Point(300, 300), Point(758, 400), Scalar(0, 255, 255), 3);

    Point p(20, 20);//初始化点坐标为(20,20)
    circle(img, p, 1, Scalar(0, 255, 0), -1);  // 画半径为1的圆(画点）

    Point p4;
    p4.x = 300;
    p4.y = 300;
    circle(img, p4, 100, Scalar(120, 120, 120), -1);

    int thickness = 3;
    int lineType = 8;
    double angle = 30;  //椭圆旋转角度
    ellipse(img, Point(100, 100), Size(90, 60), angle, 0, 360, Scalar(255, 255, 0), thickness, lineType);


    // 画矩形
    Rect r(250, 250, 120, 200);
    rectangle(img, r, Scalar(0, 255, 255), 3);

    imshow(&quot;画板&quot;, img);
    waitKey();
    return 0;
&#125;
</code></pre>

    </div>

    
</div>
</body>

</html>